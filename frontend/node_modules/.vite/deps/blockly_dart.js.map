{
  "version": 3,
  "sources": ["../../../../ltm-react/node_modules/blockly/generators/dart/lists.ts", "../../../../ltm-react/node_modules/blockly/generators/dart/logic.ts", "../../../../ltm-react/node_modules/blockly/generators/dart/loops.ts", "../../../../ltm-react/node_modules/blockly/generators/dart/math.ts", "../../../../ltm-react/node_modules/blockly/generators/dart/procedures.ts", "../../../../ltm-react/node_modules/blockly/generators/dart/text.ts", "../../../../ltm-react/node_modules/blockly/generators/dart/variables.ts", "../../../../ltm-react/node_modules/blockly/generators/dart/dart_generator.ts", "../../../../ltm-react/node_modules/blockly/generators/dart/variables_dynamic.ts", "../../../../ltm-react/node_modules/blockly/generators/dart.ts", "../../../../ltm-react/node_modules/blockly/dart.mjs"],
  "sourcesContent": ["/**\n * @license\n * Copyright 2014 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Dart for list blocks.\n */\n\n// Former goog.module ID: Blockly.Dart.lists\n\nimport type {CreateWithBlock} from '../../blocks/lists.js';\nimport type {Block} from '../../core/block.js';\nimport {NameType} from '../../core/names.js';\nimport type {DartGenerator} from './dart_generator.js';\nimport {Order} from './dart_generator.js';\n\n// RESERVED WORDS: 'Math'\n\nexport function lists_create_empty(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Create an empty list.\n  return ['[]', Order.ATOMIC];\n}\n\nexport function lists_create_with(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Create a list with any number of elements of any type.\n  const createWithBlock = block as CreateWithBlock;\n  const elements = new Array(createWithBlock.itemCount_);\n  for (let i = 0; i < createWithBlock.itemCount_; i++) {\n    elements[i] = generator.valueToCode(block, 'ADD' + i, Order.NONE) || 'null';\n  }\n  const code = '[' + elements.join(', ') + ']';\n  return [code, Order.ATOMIC];\n}\n\nexport function lists_repeat(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Create a list with one element repeated.\n  const element = generator.valueToCode(block, 'ITEM', Order.NONE) || 'null';\n  const repeatCount = generator.valueToCode(block, 'NUM', Order.NONE) || '0';\n  const code = 'new List.filled(' + repeatCount + ', ' + element + ')';\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport function lists_length(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // String or array length.\n  const list =\n    generator.valueToCode(block, 'VALUE', Order.UNARY_POSTFIX) || '[]';\n  return [list + '.length', Order.UNARY_POSTFIX];\n}\n\nexport function lists_isEmpty(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Is the string null or array empty?\n  const list =\n    generator.valueToCode(block, 'VALUE', Order.UNARY_POSTFIX) || '[]';\n  return [list + '.isEmpty', Order.UNARY_POSTFIX];\n}\n\nexport function lists_indexOf(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Find an item in the list.\n  const operator =\n    block.getFieldValue('END') === 'FIRST' ? 'indexOf' : 'lastIndexOf';\n  const item = generator.valueToCode(block, 'FIND', Order.NONE) || \"''\";\n  const list =\n    generator.valueToCode(block, 'VALUE', Order.UNARY_POSTFIX) || '[]';\n  const code = list + '.' + operator + '(' + item + ')';\n  if (block.workspace.options.oneBasedIndex) {\n    return [code + ' + 1', Order.ADDITIVE];\n  }\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport function lists_getIndex(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] | string {\n  // Get element at index.\n  // Note: Until January 2013 this block did not have MODE or WHERE inputs.\n  const mode = block.getFieldValue('MODE') || 'GET';\n  const where = block.getFieldValue('WHERE') || 'FROM_START';\n  const listOrder =\n    where === 'RANDOM' || where === 'FROM_END'\n      ? Order.NONE\n      : Order.UNARY_POSTFIX;\n  let list = generator.valueToCode(block, 'VALUE', listOrder) || '[]';\n  // Cache non-trivial values to variables to prevent repeated look-ups.\n  // Closure, which accesses and modifies 'list'.\n  function cacheList() {\n    const listVar = generator.nameDB_!.getDistinctName(\n      'tmp_list',\n      NameType.VARIABLE,\n    );\n    const code = 'List ' + listVar + ' = ' + list + ';\\n';\n    list = listVar;\n    return code;\n  }\n  // If `list` would be evaluated more than once (which is the case for\n  // RANDOM REMOVE and FROM_END) and is non-trivial, make sure to access it\n  // only once.\n  if (\n    ((where === 'RANDOM' && mode === 'REMOVE') || where === 'FROM_END') &&\n    !list.match(/^\\w+$/)\n  ) {\n    // `list` is an expression, so we may not evaluate it more than once.\n    if (where === 'RANDOM') {\n      // TODO(#7600): find better approach than casting to any to override\n      // CodeGenerator declaring .definitions protected.\n      (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n        \"import 'dart:math' as Math;\";\n      // We can use multiple statements.\n      let code = cacheList();\n      const xVar = generator.nameDB_!.getDistinctName(\n        'tmp_x',\n        NameType.VARIABLE,\n      );\n      code +=\n        'int ' + xVar + ' = new Math.Random().nextInt(' + list + '.length);\\n';\n      code += list + '.removeAt(' + xVar + ');\\n';\n      return code;\n    } else {\n      // where === 'FROM_END'\n      if (mode === 'REMOVE') {\n        // We can use multiple statements.\n        const at = generator.getAdjusted(block, 'AT', 1, false, Order.ADDITIVE);\n        let code = cacheList();\n        code += list + '.removeAt(' + list + '.length' + ' - ' + at + ');\\n';\n        return code;\n      } else if (mode === 'GET') {\n        const at = generator.getAdjusted(block, 'AT', 1);\n        // We need to create a procedure to avoid reevaluating values.\n        const functionName = generator.provideFunction_(\n          'lists_get_from_end',\n          `\ndynamic ${generator.FUNCTION_NAME_PLACEHOLDER_}(List my_list, num x) {\n  x = my_list.length - x;\n  return my_list[x];\n}\n`,\n        );\n        const code = functionName + '(' + list + ', ' + at + ')';\n        return [code, Order.UNARY_POSTFIX];\n      } else if (mode === 'GET_REMOVE') {\n        const at = generator.getAdjusted(block, 'AT', 1);\n        // We need to create a procedure to avoid reevaluating values.\n        const functionName = generator.provideFunction_(\n          'lists_remove_from_end',\n          `\ndynamic ${generator.FUNCTION_NAME_PLACEHOLDER_}(List my_list, num x) {\n  x = my_list.length - x;\n  return my_list.removeAt(x);\n}\n`,\n        );\n        const code = functionName + '(' + list + ', ' + at + ')';\n        return [code, Order.UNARY_POSTFIX];\n      }\n    }\n  } else {\n    // Either `list` is a simple variable, or we only need to refer to `list`\n    // once.\n    switch (where) {\n      case 'FIRST':\n        if (mode === 'GET') {\n          const code = list + '.first';\n          return [code, Order.UNARY_POSTFIX];\n        } else if (mode === 'GET_REMOVE') {\n          const code = list + '.removeAt(0)';\n          return [code, Order.UNARY_POSTFIX];\n        } else if (mode === 'REMOVE') {\n          return list + '.removeAt(0);\\n';\n        }\n        break;\n      case 'LAST':\n        if (mode === 'GET') {\n          const code = list + '.last';\n          return [code, Order.UNARY_POSTFIX];\n        } else if (mode === 'GET_REMOVE') {\n          const code = list + '.removeLast()';\n          return [code, Order.UNARY_POSTFIX];\n        } else if (mode === 'REMOVE') {\n          return list + '.removeLast();\\n';\n        }\n        break;\n      case 'FROM_START': {\n        const at = generator.getAdjusted(block, 'AT');\n        if (mode === 'GET') {\n          const code = list + '[' + at + ']';\n          return [code, Order.UNARY_POSTFIX];\n        } else if (mode === 'GET_REMOVE') {\n          const code = list + '.removeAt(' + at + ')';\n          return [code, Order.UNARY_POSTFIX];\n        } else if (mode === 'REMOVE') {\n          return list + '.removeAt(' + at + ');\\n';\n        }\n        break;\n      }\n      case 'FROM_END': {\n        const at = generator.getAdjusted(block, 'AT', 1, false, Order.ADDITIVE);\n        if (mode === 'GET') {\n          const code = list + '[' + list + '.length - ' + at + ']';\n          return [code, Order.UNARY_POSTFIX];\n        } else if (mode === 'GET_REMOVE' || mode === 'REMOVE') {\n          const code = list + '.removeAt(' + list + '.length - ' + at + ')';\n          if (mode === 'GET_REMOVE') {\n            return [code, Order.UNARY_POSTFIX];\n          } else if (mode === 'REMOVE') {\n            return code + ';\\n';\n          }\n        }\n        break;\n      }\n      case 'RANDOM':\n        // TODO(#7600): find better approach than casting to any to override\n        // CodeGenerator declaring .definitions protected.\n        (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n          \"import 'dart:math' as Math;\";\n        if (mode === 'REMOVE') {\n          // We can use multiple statements.\n          const xVar = generator.nameDB_!.getDistinctName(\n            'tmp_x',\n            NameType.VARIABLE,\n          );\n          let code =\n            'int ' +\n            xVar +\n            ' = new Math.Random().nextInt(' +\n            list +\n            '.length);\\n';\n          code += list + '.removeAt(' + xVar + ');\\n';\n          return code;\n        } else if (mode === 'GET') {\n          const functionName = generator.provideFunction_(\n            'lists_get_random_item',\n            `\ndynamic ${generator.FUNCTION_NAME_PLACEHOLDER_}(List my_list) {\n  int x = new Math.Random().nextInt(my_list.length);\n  return my_list[x];\n}\n`,\n          );\n          const code = functionName + '(' + list + ')';\n          return [code, Order.UNARY_POSTFIX];\n        } else if (mode === 'GET_REMOVE') {\n          const functionName = generator.provideFunction_(\n            'lists_remove_random_item',\n            `\ndynamic ${generator.FUNCTION_NAME_PLACEHOLDER_}(List my_list) {\n  int x = new Math.Random().nextInt(my_list.length);\n  return my_list.removeAt(x);\n}\n`,\n          );\n          const code = functionName + '(' + list + ')';\n          return [code, Order.UNARY_POSTFIX];\n        }\n        break;\n    }\n  }\n  throw Error('Unhandled combination (lists_getIndex).');\n}\n\nexport function lists_setIndex(block: Block, generator: DartGenerator) {\n  // Set element at index.\n  // Note: Until February 2013 this block did not have MODE or WHERE inputs.\n  const mode = block.getFieldValue('MODE') || 'GET';\n  const where = block.getFieldValue('WHERE') || 'FROM_START';\n  let list = generator.valueToCode(block, 'LIST', Order.UNARY_POSTFIX) || '[]';\n  const value = generator.valueToCode(block, 'TO', Order.ASSIGNMENT) || 'null';\n  // Cache non-trivial values to variables to prevent repeated look-ups.\n  // Closure, which accesses and modifies 'list'.\n  function cacheList() {\n    if (list.match(/^\\w+$/)) {\n      return '';\n    }\n    const listVar = generator.nameDB_!.getDistinctName(\n      'tmp_list',\n      NameType.VARIABLE,\n    );\n    const code = 'List ' + listVar + ' = ' + list + ';\\n';\n    list = listVar;\n    return code;\n  }\n  switch (where) {\n    case 'FIRST':\n      if (mode === 'SET') {\n        return list + '[0] = ' + value + ';\\n';\n      } else if (mode === 'INSERT') {\n        return list + '.insert(0, ' + value + ');\\n';\n      }\n      break;\n    case 'LAST':\n      if (mode === 'SET') {\n        let code = cacheList();\n        code += list + '[' + list + '.length - 1] = ' + value + ';\\n';\n        return code;\n      } else if (mode === 'INSERT') {\n        return list + '.add(' + value + ');\\n';\n      }\n      break;\n    case 'FROM_START': {\n      const at = generator.getAdjusted(block, 'AT');\n      if (mode === 'SET') {\n        return list + '[' + at + '] = ' + value + ';\\n';\n      } else if (mode === 'INSERT') {\n        return list + '.insert(' + at + ', ' + value + ');\\n';\n      }\n      break;\n    }\n    case 'FROM_END': {\n      const at = generator.getAdjusted(block, 'AT', 1, false, Order.ADDITIVE);\n      let code = cacheList();\n      if (mode === 'SET') {\n        code += list + '[' + list + '.length - ' + at + '] = ' + value + ';\\n';\n        return code;\n      } else if (mode === 'INSERT') {\n        code +=\n          list + '.insert(' + list + '.length - ' + at + ', ' + value + ');\\n';\n        return code;\n      }\n      break;\n    }\n    case 'RANDOM': {\n      // TODO(#7600): find better approach than casting to any to override\n      // CodeGenerator declaring .definitions protected.\n      (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n        \"import 'dart:math' as Math;\";\n      let code = cacheList();\n      const xVar = generator.nameDB_!.getDistinctName(\n        'tmp_x',\n        NameType.VARIABLE,\n      );\n      code +=\n        'int ' + xVar + ' = new Math.Random().nextInt(' + list + '.length);\\n';\n      if (mode === 'SET') {\n        code += list + '[' + xVar + '] = ' + value + ';\\n';\n        return code;\n      } else if (mode === 'INSERT') {\n        code += list + '.insert(' + xVar + ', ' + value + ');\\n';\n        return code;\n      }\n      break;\n    }\n  }\n  throw Error('Unhandled combination (lists_setIndex).');\n}\n\nexport function lists_getSublist(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Get sublist.\n  const list =\n    generator.valueToCode(block, 'LIST', Order.UNARY_POSTFIX) || '[]';\n  const where1 = block.getFieldValue('WHERE1');\n  const where2 = block.getFieldValue('WHERE2');\n  let code;\n  if (\n    list.match(/^\\w+$/) ||\n    (where1 !== 'FROM_END' && where2 === 'FROM_START')\n  ) {\n    // If the list is a is a variable or doesn't require a call for length,\n    // don't generate a helper function.\n    let at1;\n    switch (where1) {\n      case 'FROM_START':\n        at1 = generator.getAdjusted(block, 'AT1');\n        break;\n      case 'FROM_END':\n        at1 = generator.getAdjusted(block, 'AT1', 1, false, Order.ADDITIVE);\n        at1 = list + '.length - ' + at1;\n        break;\n      case 'FIRST':\n        at1 = '0';\n        break;\n      default:\n        throw Error('Unhandled option (lists_getSublist).');\n    }\n    let at2;\n    switch (where2) {\n      case 'FROM_START':\n        at2 = generator.getAdjusted(block, 'AT2', 1);\n        break;\n      case 'FROM_END':\n        at2 = generator.getAdjusted(block, 'AT2', 0, false, Order.ADDITIVE);\n        at2 = list + '.length - ' + at2;\n        break;\n      case 'LAST':\n        // There is no second index if LAST option is chosen.\n        break;\n      default:\n        throw Error('Unhandled option (lists_getSublist).');\n    }\n    if (where2 === 'LAST') {\n      code = list + '.sublist(' + at1 + ')';\n    } else {\n      code = list + '.sublist(' + at1 + ', ' + at2 + ')';\n    }\n  } else {\n    const at1 = generator.getAdjusted(block, 'AT1');\n    const at2 = generator.getAdjusted(block, 'AT2');\n    const functionName = generator.provideFunction_(\n      'lists_get_sublist',\n      `\nList ${generator.FUNCTION_NAME_PLACEHOLDER_}(List list, String where1, num at1, String where2, num at2) {\n  int getAt(String where, num at) {\n    if (where == 'FROM_END') {\n      at = list.length - 1 - at;\n    } else if (where == 'FIRST') {\n      at = 0;\n    } else if (where == 'LAST') {\n      at = list.length - 1;\n    } else if (where != 'FROM_START') {\n      throw 'Unhandled option (lists_getSublist).';\n    }\n    return at;\n  }\n  at1 = getAt(where1, at1);\n  at2 = getAt(where2, at2) + 1;\n  return list.sublist(at1, at2);\n}\n`,\n    );\n    code =\n      functionName +\n      '(' +\n      list +\n      \", '\" +\n      where1 +\n      \"', \" +\n      at1 +\n      \", '\" +\n      where2 +\n      \"', \" +\n      at2 +\n      ')';\n  }\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport function lists_sort(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Block for sorting a list.\n  const list = generator.valueToCode(block, 'LIST', Order.NONE) || '[]';\n  const direction = block.getFieldValue('DIRECTION') === '1' ? 1 : -1;\n  const type = block.getFieldValue('TYPE');\n  const sortFunctionName = generator.provideFunction_(\n    'lists_sort',\n    `\nList ${generator.FUNCTION_NAME_PLACEHOLDER_}(List list, String type, int direction) {\n  var compareFuncs = {\n    'NUMERIC': (a, b) => (direction * a.compareTo(b)).toInt(),\n    'TEXT': (a, b) => direction * a.toString().compareTo(b.toString()),\n    'IGNORE_CASE':\n      (a, b) => direction *\n      a.toString().toLowerCase().compareTo(b.toString().toLowerCase())\n  };\n  list = new List.from(list);\n  var compare = compareFuncs[type];\n  list.sort(compare);\n  return list;\n}\n`,\n  );\n  return [\n    sortFunctionName + '(' + list + ', ' + '\"' + type + '\", ' + direction + ')',\n    Order.UNARY_POSTFIX,\n  ];\n}\n\nexport function lists_split(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Block for splitting text into a list, or joining a list into text.\n  let input = generator.valueToCode(block, 'INPUT', Order.UNARY_POSTFIX);\n  const delimiter = generator.valueToCode(block, 'DELIM', Order.NONE) || \"''\";\n  const mode = block.getFieldValue('MODE');\n  let functionName;\n  if (mode === 'SPLIT') {\n    if (!input) {\n      input = \"''\";\n    }\n    functionName = 'split';\n  } else if (mode === 'JOIN') {\n    if (!input) {\n      input = '[]';\n    }\n    functionName = 'join';\n  } else {\n    throw Error('Unknown mode: ' + mode);\n  }\n  const code = input + '.' + functionName + '(' + delimiter + ')';\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport function lists_reverse(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Block for reversing a list.\n  const list = generator.valueToCode(block, 'LIST', Order.NONE) || '[]';\n  // XXX What should the operator precedence be for a `new`?\n  const code = 'new List.from(' + list + '.reversed)';\n  return [code, Order.UNARY_POSTFIX];\n}\n", "/**\n * @license\n * Copyright 2014 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Dart for logic blocks.\n */\n\n// Former goog.module ID: Blockly.Dart.logic\n\nimport type {Block} from '../../core/block.js';\nimport type {DartGenerator} from './dart_generator.js';\nimport {Order} from './dart_generator.js';\n\nexport function controls_if(block: Block, generator: DartGenerator) {\n  // If/elseif/else condition.\n  let n = 0;\n  let code = '',\n    branchCode,\n    conditionCode;\n  if (generator.STATEMENT_PREFIX) {\n    // Automatic prefix insertion is switched off for this block.  Add manually.\n    code += generator.injectId(generator.STATEMENT_PREFIX, block);\n  }\n  do {\n    conditionCode =\n      generator.valueToCode(block, 'IF' + n, Order.NONE) || 'false';\n    branchCode = generator.statementToCode(block, 'DO' + n);\n    if (generator.STATEMENT_SUFFIX) {\n      branchCode =\n        generator.prefixLines(\n          generator.injectId(generator.STATEMENT_SUFFIX, block),\n          generator.INDENT,\n        ) + branchCode;\n    }\n    code +=\n      (n > 0 ? 'else ' : '') +\n      'if (' +\n      conditionCode +\n      ') {\\n' +\n      branchCode +\n      '}';\n    n++;\n  } while (block.getInput('IF' + n));\n\n  if (block.getInput('ELSE') || generator.STATEMENT_SUFFIX) {\n    branchCode = block.getInput('ELSE')\n      ? generator.statementToCode(block, 'ELSE')\n      : '';\n    if (generator.STATEMENT_SUFFIX) {\n      branchCode =\n        generator.prefixLines(\n          generator.injectId(generator.STATEMENT_SUFFIX, block),\n          generator.INDENT,\n        ) + branchCode;\n    }\n    code += ' else {\\n' + branchCode + '}';\n  }\n  return code + '\\n';\n}\n\nexport const controls_ifelse = controls_if;\n\nexport function logic_compare(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Comparison operator.\n  const OPERATORS = {\n    'EQ': '==',\n    'NEQ': '!=',\n    'LT': '<',\n    'LTE': '<=',\n    'GT': '>',\n    'GTE': '>=',\n  };\n  type OperatorOption = keyof typeof OPERATORS;\n  const operator = OPERATORS[block.getFieldValue('OP') as OperatorOption];\n  const order =\n    operator === '==' || operator === '!=' ? Order.EQUALITY : Order.RELATIONAL;\n  const argument0 = generator.valueToCode(block, 'A', order) || '0';\n  const argument1 = generator.valueToCode(block, 'B', order) || '0';\n  const code = argument0 + ' ' + operator + ' ' + argument1;\n  return [code, order];\n}\n\nexport function logic_operation(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Operations 'and', 'or'.\n  const operator = block.getFieldValue('OP') === 'AND' ? '&&' : '||';\n  const order = operator === '&&' ? Order.LOGICAL_AND : Order.LOGICAL_OR;\n  let argument0 = generator.valueToCode(block, 'A', order);\n  let argument1 = generator.valueToCode(block, 'B', order);\n  if (!argument0 && !argument1) {\n    // If there are no arguments, then the return value is false.\n    argument0 = 'false';\n    argument1 = 'false';\n  } else {\n    // Single missing arguments have no effect on the return value.\n    const defaultArgument = operator === '&&' ? 'true' : 'false';\n    if (!argument0) {\n      argument0 = defaultArgument;\n    }\n    if (!argument1) {\n      argument1 = defaultArgument;\n    }\n  }\n  const code = argument0 + ' ' + operator + ' ' + argument1;\n  return [code, order];\n}\n\nexport function logic_negate(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Negation.\n  const order = Order.UNARY_PREFIX;\n  const argument0 = generator.valueToCode(block, 'BOOL', order) || 'true';\n  const code = '!' + argument0;\n  return [code, order];\n}\n\nexport function logic_boolean(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Boolean values true and false.\n  const code = block.getFieldValue('BOOL') === 'TRUE' ? 'true' : 'false';\n  return [code, Order.ATOMIC];\n}\n\nexport function logic_null(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Null data type.\n  return ['null', Order.ATOMIC];\n}\n\nexport function logic_ternary(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Ternary operator.\n  const value_if =\n    generator.valueToCode(block, 'IF', Order.CONDITIONAL) || 'false';\n  const value_then =\n    generator.valueToCode(block, 'THEN', Order.CONDITIONAL) || 'null';\n  const value_else =\n    generator.valueToCode(block, 'ELSE', Order.CONDITIONAL) || 'null';\n  const code = value_if + ' ? ' + value_then + ' : ' + value_else;\n  return [code, Order.CONDITIONAL];\n}\n", "/**\n * @license\n * Copyright 2014 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Dart for loop blocks.\n */\n\n// Former goog.module ID: Blockly.Dart.loops\n\nimport type {ControlFlowInLoopBlock} from '../../blocks/loops.js';\nimport type {Block} from '../../core/block.js';\nimport {NameType} from '../../core/names.js';\nimport * as stringUtils from '../../core/utils/string.js';\nimport type {DartGenerator} from './dart_generator.js';\nimport {Order} from './dart_generator.js';\n\nexport function controls_repeat_ext(block: Block, generator: DartGenerator) {\n  let repeats;\n  // Repeat n times.\n  if (block.getField('TIMES')) {\n    // Internal number.\n    repeats = String(Number(block.getFieldValue('TIMES')));\n  } else {\n    // External number.\n    repeats = generator.valueToCode(block, 'TIMES', Order.ASSIGNMENT) || '0';\n  }\n  let branch = generator.statementToCode(block, 'DO');\n  branch = generator.addLoopTrap(branch, block);\n  let code = '';\n  const loopVar = generator.nameDB_!.getDistinctName(\n    'count',\n    NameType.VARIABLE,\n  );\n  let endVar = repeats;\n  if (!repeats.match(/^\\w+$/) && !stringUtils.isNumber(repeats)) {\n    endVar = generator.nameDB_!.getDistinctName(\n      'repeat_end',\n      NameType.VARIABLE,\n    );\n    code += 'var ' + endVar + ' = ' + repeats + ';\\n';\n  }\n  code +=\n    'for (int ' +\n    loopVar +\n    ' = 0; ' +\n    loopVar +\n    ' < ' +\n    endVar +\n    '; ' +\n    loopVar +\n    '++) {\\n' +\n    branch +\n    '}\\n';\n  return code;\n}\n\nexport const controls_repeat = controls_repeat_ext;\n\nexport function controls_whileUntil(block: Block, generator: DartGenerator) {\n  // Do while/until loop.\n  const until = block.getFieldValue('MODE') === 'UNTIL';\n  let argument0 =\n    generator.valueToCode(\n      block,\n      'BOOL',\n      until ? Order.UNARY_PREFIX : Order.NONE,\n    ) || 'false';\n  let branch = generator.statementToCode(block, 'DO');\n  branch = generator.addLoopTrap(branch, block);\n  if (until) {\n    argument0 = '!' + argument0;\n  }\n  return 'while (' + argument0 + ') {\\n' + branch + '}\\n';\n}\n\nexport function controls_for(block: Block, generator: DartGenerator) {\n  // For loop.\n  const variable0 = generator.getVariableName(block.getFieldValue('VAR'));\n  const argument0 =\n    generator.valueToCode(block, 'FROM', Order.ASSIGNMENT) || '0';\n  const argument1 = generator.valueToCode(block, 'TO', Order.ASSIGNMENT) || '0';\n  const increment = generator.valueToCode(block, 'BY', Order.ASSIGNMENT) || '1';\n  let branch = generator.statementToCode(block, 'DO');\n  branch = generator.addLoopTrap(branch, block);\n  let code;\n  if (\n    stringUtils.isNumber(argument0) &&\n    stringUtils.isNumber(argument1) &&\n    stringUtils.isNumber(increment)\n  ) {\n    // All arguments are simple numbers.\n    const up = Number(argument0) <= Number(argument1);\n    code =\n      'for (' +\n      variable0 +\n      ' = ' +\n      argument0 +\n      '; ' +\n      variable0 +\n      (up ? ' <= ' : ' >= ') +\n      argument1 +\n      '; ' +\n      variable0;\n    const step = Math.abs(Number(increment));\n    if (step === 1) {\n      code += up ? '++' : '--';\n    } else {\n      code += (up ? ' += ' : ' -= ') + step;\n    }\n    code += ') {\\n' + branch + '}\\n';\n  } else {\n    code = '';\n    // Cache non-trivial values to variables to prevent repeated look-ups.\n    let startVar = argument0;\n    if (!argument0.match(/^\\w+$/) && !stringUtils.isNumber(argument0)) {\n      startVar = generator.nameDB_!.getDistinctName(\n        variable0 + '_start',\n        NameType.VARIABLE,\n      );\n      code += 'var ' + startVar + ' = ' + argument0 + ';\\n';\n    }\n    let endVar = argument1;\n    if (!argument1.match(/^\\w+$/) && !stringUtils.isNumber(argument1)) {\n      endVar = generator.nameDB_!.getDistinctName(\n        variable0 + '_end',\n        NameType.VARIABLE,\n      );\n      code += 'var ' + endVar + ' = ' + argument1 + ';\\n';\n    }\n    // Determine loop direction at start, in case one of the bounds\n    // changes during loop execution.\n    const incVar = generator.nameDB_!.getDistinctName(\n      variable0 + '_inc',\n      NameType.VARIABLE,\n    );\n    code += 'num ' + incVar + ' = ';\n    if (stringUtils.isNumber(increment)) {\n      code += Math.abs(Number(increment)) + ';\\n';\n    } else {\n      code += '(' + increment + ').abs();\\n';\n    }\n    code += 'if (' + startVar + ' > ' + endVar + ') {\\n';\n    code += generator.INDENT + incVar + ' = -' + incVar + ';\\n';\n    code += '}\\n';\n    code +=\n      'for (' +\n      variable0 +\n      ' = ' +\n      startVar +\n      '; ' +\n      incVar +\n      ' >= 0 ? ' +\n      variable0 +\n      ' <= ' +\n      endVar +\n      ' : ' +\n      variable0 +\n      ' >= ' +\n      endVar +\n      '; ' +\n      variable0 +\n      ' += ' +\n      incVar +\n      ') {\\n' +\n      branch +\n      '}\\n';\n  }\n  return code;\n}\n\nexport function controls_forEach(block: Block, generator: DartGenerator) {\n  // For each loop.\n  const variable0 = generator.getVariableName(block.getFieldValue('VAR'));\n  const argument0 =\n    generator.valueToCode(block, 'LIST', Order.ASSIGNMENT) || '[]';\n  let branch = generator.statementToCode(block, 'DO');\n  branch = generator.addLoopTrap(branch, block);\n  const code =\n    'for (var ' + variable0 + ' in ' + argument0 + ') {\\n' + branch + '}\\n';\n  return code;\n}\n\nexport function controls_flow_statements(\n  block: Block,\n  generator: DartGenerator,\n) {\n  // Flow statements: continue, break.\n  let xfix = '';\n  if (generator.STATEMENT_PREFIX) {\n    // Automatic prefix insertion is switched off for this block.  Add manually.\n    xfix += generator.injectId(generator.STATEMENT_PREFIX, block);\n  }\n  if (generator.STATEMENT_SUFFIX) {\n    // Inject any statement suffix here since the regular one at the end\n    // will not get executed if the break/continue is triggered.\n    xfix += generator.injectId(generator.STATEMENT_SUFFIX, block);\n  }\n  if (generator.STATEMENT_PREFIX) {\n    const loop = (block as ControlFlowInLoopBlock).getSurroundLoop();\n    if (loop && !loop.suppressPrefixSuffix) {\n      // Inject loop's statement prefix here since the regular one at the end\n      // of the loop will not get executed if 'continue' is triggered.\n      // In the case of 'break', a prefix is needed due to the loop's suffix.\n      xfix += generator.injectId(generator.STATEMENT_PREFIX, loop);\n    }\n  }\n  switch (block.getFieldValue('FLOW')) {\n    case 'BREAK':\n      return xfix + 'break;\\n';\n    case 'CONTINUE':\n      return xfix + 'continue;\\n';\n  }\n  throw Error('Unknown flow statement.');\n}\n", "/**\n * @license\n * Copyright 2014 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Dart for math blocks.\n */\n\n// Former goog.module ID: Blockly.Dart.math\n\nimport type {Block} from '../../core/block.js';\nimport type {DartGenerator} from './dart_generator.js';\nimport {Order} from './dart_generator.js';\n\n// RESERVED WORDS: 'Math'\n\nexport function math_number(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Numeric value.\n  const number = Number(block.getFieldValue('NUM'));\n  if (number === Infinity) {\n    return ['double.infinity', Order.UNARY_POSTFIX];\n  } else if (number === -Infinity) {\n    return ['-double.infinity', Order.UNARY_PREFIX];\n  } else {\n    // -4.abs() returns -4 in generator due to strange order of\n    // operation choices.  4 is actually an operator and a number.\n    // Reflect this in the order.\n    return [String(number), number < 0 ? Order.UNARY_PREFIX : Order.ATOMIC];\n  }\n}\n\nexport function math_arithmetic(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Basic arithmetic operators, and power.\n  const OPERATORS: Record<string, [string | null, Order]> = {\n    'ADD': [' + ', Order.ADDITIVE],\n    'MINUS': [' - ', Order.ADDITIVE],\n    'MULTIPLY': [' * ', Order.MULTIPLICATIVE],\n    'DIVIDE': [' / ', Order.MULTIPLICATIVE],\n    'POWER': [null, Order.NONE], // Handle power separately.\n  };\n  type OperatorOption = keyof typeof OPERATORS;\n  const tuple = OPERATORS[block.getFieldValue('OP') as OperatorOption];\n  const operator = tuple[0];\n  const order = tuple[1];\n  const argument0 = generator.valueToCode(block, 'A', order) || '0';\n  const argument1 = generator.valueToCode(block, 'B', order) || '0';\n  let code;\n  // Power in generator requires a special case since it has no operator.\n  if (!operator) {\n    // TODO(#7600): find better approach than casting to any to override\n    // CodeGenerator declaring .definitions protected.\n    (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n      \"import 'dart:math' as Math;\";\n    code = 'Math.pow(' + argument0 + ', ' + argument1 + ')';\n    return [code, Order.UNARY_POSTFIX];\n  }\n  code = argument0 + operator + argument1;\n  return [code, order];\n}\n\nexport function math_single(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Math operators with single operand.\n  const operator = block.getFieldValue('OP');\n  let code;\n  let arg;\n  if (operator === 'NEG') {\n    // Negation is a special case given its different operator precedence.\n    arg = generator.valueToCode(block, 'NUM', Order.UNARY_PREFIX) || '0';\n    if (arg[0] === '-') {\n      // --3 is not legal in generator.\n      arg = ' ' + arg;\n    }\n    code = '-' + arg;\n    return [code, Order.UNARY_PREFIX];\n  }\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected.\n  (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n    \"import 'dart:math' as Math;\";\n  if (operator === 'ABS' || operator.substring(0, 5) === 'ROUND') {\n    arg = generator.valueToCode(block, 'NUM', Order.UNARY_POSTFIX) || '0';\n  } else if (operator === 'SIN' || operator === 'COS' || operator === 'TAN') {\n    arg = generator.valueToCode(block, 'NUM', Order.MULTIPLICATIVE) || '0';\n  } else {\n    arg = generator.valueToCode(block, 'NUM', Order.NONE) || '0';\n  }\n  // First, handle cases which generate values that don't need parentheses\n  // wrapping the code.\n  switch (operator) {\n    case 'ABS':\n      code = arg + '.abs()';\n      break;\n    case 'ROOT':\n      code = 'Math.sqrt(' + arg + ')';\n      break;\n    case 'LN':\n      code = 'Math.log(' + arg + ')';\n      break;\n    case 'EXP':\n      code = 'Math.exp(' + arg + ')';\n      break;\n    case 'POW10':\n      code = 'Math.pow(10,' + arg + ')';\n      break;\n    case 'ROUND':\n      code = arg + '.round()';\n      break;\n    case 'ROUNDUP':\n      code = arg + '.ceil()';\n      break;\n    case 'ROUNDDOWN':\n      code = arg + '.floor()';\n      break;\n    case 'SIN':\n      code = 'Math.sin(' + arg + ' / 180 * Math.pi)';\n      break;\n    case 'COS':\n      code = 'Math.cos(' + arg + ' / 180 * Math.pi)';\n      break;\n    case 'TAN':\n      code = 'Math.tan(' + arg + ' / 180 * Math.pi)';\n      break;\n  }\n  if (code) {\n    return [code, Order.UNARY_POSTFIX];\n  }\n  // Second, handle cases which generate values that may need parentheses\n  // wrapping the code.\n  switch (operator) {\n    case 'LOG10':\n      code = 'Math.log(' + arg + ') / Math.log(10)';\n      break;\n    case 'ASIN':\n      code = 'Math.asin(' + arg + ') / Math.pi * 180';\n      break;\n    case 'ACOS':\n      code = 'Math.acos(' + arg + ') / Math.pi * 180';\n      break;\n    case 'ATAN':\n      code = 'Math.atan(' + arg + ') / Math.pi * 180';\n      break;\n    default:\n      throw Error('Unknown math operator: ' + operator);\n  }\n  return [code, Order.MULTIPLICATIVE];\n}\n\nexport function math_constant(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Constants: PI, E, the Golden Ratio, sqrt(2), 1/sqrt(2), INFINITY.\n  const CONSTANTS: Record<string, [string, Order]> = {\n    'PI': ['Math.pi', Order.UNARY_POSTFIX],\n    'E': ['Math.e', Order.UNARY_POSTFIX],\n    'GOLDEN_RATIO': ['(1 + Math.sqrt(5)) / 2', Order.MULTIPLICATIVE],\n    'SQRT2': ['Math.sqrt2', Order.UNARY_POSTFIX],\n    'SQRT1_2': ['Math.sqrt1_2', Order.UNARY_POSTFIX],\n    'INFINITY': ['double.infinity', Order.ATOMIC],\n  };\n  type ConstantOption = keyof typeof CONSTANTS;\n  const constant = block.getFieldValue('CONSTANT') as ConstantOption;\n  if (constant !== 'INFINITY') {\n    // TODO(#7600): find better approach than casting to any to override\n    // CodeGenerator declaring .definitions protected.\n    (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n      \"import 'dart:math' as Math;\";\n  }\n  return CONSTANTS[constant];\n}\n\nexport function math_number_property(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Check if a number is even, odd, prime, whole, positive, or negative\n  // or if it is divisible by certain number. Returns true or false.\n  const PROPERTIES: Record<string, [string | null, Order, Order]> = {\n    'EVEN': [' % 2 == 0', Order.MULTIPLICATIVE, Order.EQUALITY],\n    'ODD': [' % 2 == 1', Order.MULTIPLICATIVE, Order.EQUALITY],\n    'WHOLE': [' % 1 == 0', Order.MULTIPLICATIVE, Order.EQUALITY],\n    'POSITIVE': [' > 0', Order.RELATIONAL, Order.RELATIONAL],\n    'NEGATIVE': [' < 0', Order.RELATIONAL, Order.RELATIONAL],\n    'DIVISIBLE_BY': [null, Order.MULTIPLICATIVE, Order.EQUALITY],\n    'PRIME': [null, Order.NONE, Order.UNARY_POSTFIX],\n  };\n  type PropertyOption = keyof typeof PROPERTIES;\n  const dropdownProperty = block.getFieldValue('PROPERTY') as PropertyOption;\n  const [suffix, inputOrder, outputOrder] = PROPERTIES[dropdownProperty];\n  const numberToCheck =\n    generator.valueToCode(block, 'NUMBER_TO_CHECK', inputOrder) || '0';\n  let code;\n  if (dropdownProperty === 'PRIME') {\n    // Prime is a special case as it is not a one-liner test.\n    // TODO(#7600): find better approach than casting to any to override\n    // CodeGenerator declaring .definitions protected.\n    (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n      \"import 'dart:math' as Math;\";\n    const functionName = generator.provideFunction_(\n      'math_isPrime',\n      `\nbool ${generator.FUNCTION_NAME_PLACEHOLDER_}(n) {\n  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  if (n == 2 || n == 3) {\n    return true;\n  }\n  // False if n is null, negative, is 1, or not whole.\n  // And false if n is divisible by 2 or 3.\n  if (n == null || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {\n    return false;\n  }\n  // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {\n    if (n % (x - 1) == 0 || n % (x + 1) == 0) {\n      return false;\n    }\n  }\n  return true;\n}\n`,\n    );\n    code = functionName + '(' + numberToCheck + ')';\n  } else if (dropdownProperty === 'DIVISIBLE_BY') {\n    const divisor =\n      generator.valueToCode(block, 'DIVISOR', Order.MULTIPLICATIVE) || '0';\n    if (divisor === '0') {\n      return ['false', Order.ATOMIC];\n    }\n    code = numberToCheck + ' % ' + divisor + ' == 0';\n  } else {\n    code = numberToCheck + suffix;\n  }\n  return [code, outputOrder];\n}\n\nexport function math_change(block: Block, generator: DartGenerator) {\n  // Add to a variable in place.\n  const argument0 =\n    generator.valueToCode(block, 'DELTA', Order.ADDITIVE) || '0';\n  const varName = generator.getVariableName(block.getFieldValue('VAR'));\n  return (\n    varName +\n    ' = (' +\n    varName +\n    ' is num ? ' +\n    varName +\n    ' : 0) + ' +\n    argument0 +\n    ';\\n'\n  );\n}\n\n// Rounding functions have a single operand.\nexport const math_round = math_single;\n// Trigonometry functions have a single operand.\nexport const math_trig = math_single;\n\nexport function math_on_list(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Math functions for lists.\n  const func = block.getFieldValue('OP');\n  const list = generator.valueToCode(block, 'LIST', Order.NONE) || '[]';\n  let code;\n  switch (func) {\n    case 'SUM': {\n      const functionName = generator.provideFunction_(\n        'math_sum',\n        `\nnum ${generator.FUNCTION_NAME_PLACEHOLDER_}(List<num> myList) {\n  num sumVal = 0;\n  myList.forEach((num entry) {sumVal += entry;});\n  return sumVal;\n}\n`,\n      );\n      code = functionName + '(' + list + ')';\n      break;\n    }\n    case 'MIN': {\n      // TODO(#7600): find better approach than casting to any to override\n      // CodeGenerator declaring .definitions protected.\n      (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n        \"import 'dart:math' as Math;\";\n      const functionName = generator.provideFunction_(\n        'math_min',\n        `\nnum ${generator.FUNCTION_NAME_PLACEHOLDER_}(List<num> myList) {\n  if (myList.isEmpty) return null;\n  num minVal = myList[0];\n  myList.forEach((num entry) {minVal = Math.min(minVal, entry);});\n  return minVal;\n}\n`,\n      );\n      code = functionName + '(' + list + ')';\n      break;\n    }\n    case 'MAX': {\n      // TODO(#7600): find better approach than casting to any to override\n      // CodeGenerator declaring .definitions protected.\n      (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n        \"import 'dart:math' as Math;\";\n      const functionName = generator.provideFunction_(\n        'math_max',\n        `\nnum ${generator.FUNCTION_NAME_PLACEHOLDER_}(List<num> myList) {\n  if (myList.isEmpty) return null;\n  num maxVal = myList[0];\n  myList.forEach((num entry) {maxVal = Math.max(maxVal, entry);});\n  return maxVal;\n}\n`,\n      );\n      code = functionName + '(' + list + ')';\n      break;\n    }\n    case 'AVERAGE': {\n      // This operation exclude null and values that are not int or float:\n      //   math_mean([null,null,\"aString\",1,9]) -> 5.0\n      const functionName = generator.provideFunction_(\n        'math_mean',\n        `\nnum ${generator.FUNCTION_NAME_PLACEHOLDER_}(List myList) {\n  // First filter list for numbers only.\n  List localList = new List.from(myList);\n  localList.removeWhere((a) => a is! num);\n  if (localList.isEmpty) return null;\n  num sumVal = 0;\n  localList.forEach((var entry) {sumVal += entry;});\n  return sumVal / localList.length;\n}\n`,\n      );\n      code = functionName + '(' + list + ')';\n      break;\n    }\n    case 'MEDIAN': {\n      const functionName = generator.provideFunction_(\n        'math_median',\n        `\nnum ${generator.FUNCTION_NAME_PLACEHOLDER_}(List myList) {\n  // First filter list for numbers only, then sort, then return middle value\n  // or the average of two middle values if list has an even number of elements.\n  List localList = new List.from(myList);\n  localList.removeWhere((a) => a is! num);\n  if (localList.isEmpty) return null;\n  localList.sort((a, b) => (a - b));\n  int index = localList.length ~/ 2;\n  if (localList.length % 2 == 1) {\n    return localList[index];\n  } else {\n    return (localList[index - 1] + localList[index]) / 2;\n  }\n}\n`,\n      );\n      code = functionName + '(' + list + ')';\n      break;\n    }\n    case 'MODE': {\n      // TODO(#7600): find better approach than casting to any to override\n      // CodeGenerator declaring .definitions protected.\n      (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n        \"import 'dart:math' as Math;\";\n      // As a list of numbers can contain more than one mode,\n      // the returned result is provided as an array.\n      // Mode of [3, 'x', 'x', 1, 1, 2, '3'] -> ['x', 1]\n      const functionName = generator.provideFunction_(\n        'math_modes',\n        `\nList ${generator.FUNCTION_NAME_PLACEHOLDER_}(List values) {\n  List modes = [];\n  List counts = [];\n  int maxCount = 0;\n  for (int i = 0; i < values.length; i++) {\n    var value = values[i];\n    bool found = false;\n    int thisCount;\n    for (int j = 0; j < counts.length; j++) {\n      if (counts[j][0] == value) {\n        thisCount = ++counts[j][1];\n        found = true;\n        break;\n      }\n    }\n    if (!found) {\n      counts.add([value, 1]);\n      thisCount = 1;\n    }\n    maxCount = Math.max(thisCount, maxCount);\n  }\n  for (int j = 0; j < counts.length; j++) {\n    if (counts[j][1] == maxCount) {\n        modes.add(counts[j][0]);\n    }\n  }\n  return modes;\n}\n`,\n      );\n      code = functionName + '(' + list + ')';\n      break;\n    }\n    case 'STD_DEV': {\n      // TODO(#7600): find better approach than casting to any to override\n      // CodeGenerator declaring .definitions protected.\n      (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n        \"import 'dart:math' as Math;\";\n      const functionName = generator.provideFunction_(\n        'math_standard_deviation',\n        `\nnum ${generator.FUNCTION_NAME_PLACEHOLDER_}(List myList) {\n  // First filter list for numbers only.\n  List numbers = new List.from(myList);\n  numbers.removeWhere((a) => a is! num);\n  if (numbers.isEmpty) return null;\n  num n = numbers.length;\n  num sum = 0;\n  numbers.forEach((x) => sum += x);\n  num mean = sum / n;\n  num sumSquare = 0;\n  numbers.forEach((x) => sumSquare += Math.pow(x - mean, 2));\n  return Math.sqrt(sumSquare / n);\n}\n`,\n      );\n      code = functionName + '(' + list + ')';\n      break;\n    }\n    case 'RANDOM': {\n      // TODO(#7600): find better approach than casting to any to override\n      // CodeGenerator declaring .definitions protected.\n      (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n        \"import 'dart:math' as Math;\";\n      const functionName = generator.provideFunction_(\n        'math_random_item',\n        `\ndynamic ${generator.FUNCTION_NAME_PLACEHOLDER_}(List myList) {\n  int x = new Math.Random().nextInt(myList.length);\n  return myList[x];\n}\n`,\n      );\n      code = functionName + '(' + list + ')';\n      break;\n    }\n    default:\n      throw Error('Unknown operator: ' + func);\n  }\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport function math_modulo(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Remainder computation.\n  const argument0 =\n    generator.valueToCode(block, 'DIVIDEND', Order.MULTIPLICATIVE) || '0';\n  const argument1 =\n    generator.valueToCode(block, 'DIVISOR', Order.MULTIPLICATIVE) || '0';\n  const code = argument0 + ' % ' + argument1;\n  return [code, Order.MULTIPLICATIVE];\n}\n\nexport function math_constrain(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Constrain a number between two limits.\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected.\n  (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n    \"import 'dart:math' as Math;\";\n  const argument0 = generator.valueToCode(block, 'VALUE', Order.NONE) || '0';\n  const argument1 = generator.valueToCode(block, 'LOW', Order.NONE) || '0';\n  const argument2 =\n    generator.valueToCode(block, 'HIGH', Order.NONE) || 'double.infinity';\n  const code =\n    'Math.min(Math.max(' +\n    argument0 +\n    ', ' +\n    argument1 +\n    '), ' +\n    argument2 +\n    ')';\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport function math_random_int(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Random integer between [X] and [Y].\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected.\n  (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n    \"import 'dart:math' as Math;\";\n  const argument0 = generator.valueToCode(block, 'FROM', Order.NONE) || '0';\n  const argument1 = generator.valueToCode(block, 'TO', Order.NONE) || '0';\n  const functionName = generator.provideFunction_(\n    'math_random_int',\n    `\nint ${generator.FUNCTION_NAME_PLACEHOLDER_}(num a, num b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    num c = a;\n    a = b;\n    b = c;\n  }\n  return new Math.Random().nextInt(b - a + 1) + a;\n}\n`,\n  );\n  const code = functionName + '(' + argument0 + ', ' + argument1 + ')';\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport function math_random_float(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Random fraction between 0 and 1.\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected.\n  (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n    \"import 'dart:math' as Math;\";\n  return ['new Math.Random().nextDouble()', Order.UNARY_POSTFIX];\n}\n\nexport function math_atan2(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Arctangent of point (X, Y) in degrees from -180 to 180.\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected.\n  (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n    \"import 'dart:math' as Math;\";\n  const argument0 = generator.valueToCode(block, 'X', Order.NONE) || '0';\n  const argument1 = generator.valueToCode(block, 'Y', Order.NONE) || '0';\n  return [\n    'Math.atan2(' + argument1 + ', ' + argument0 + ') / Math.pi * 180',\n    Order.MULTIPLICATIVE,\n  ];\n}\n", "/**\n * @license\n * Copyright 2014 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Dart for procedure blocks.\n */\n\n// Former goog.module ID: Blockly.Dart.procedures\n\nimport type {IfReturnBlock} from '../../blocks/procedures.js';\nimport type {Block} from '../../core/block.js';\nimport type {DartGenerator} from './dart_generator.js';\nimport {Order} from './dart_generator.js';\n\nexport function procedures_defreturn(block: Block, generator: DartGenerator) {\n  // Define a procedure with a return value.\n  const funcName = generator.getProcedureName(block.getFieldValue('NAME'));\n  let xfix1 = '';\n  if (generator.STATEMENT_PREFIX) {\n    xfix1 += generator.injectId(generator.STATEMENT_PREFIX, block);\n  }\n  if (generator.STATEMENT_SUFFIX) {\n    xfix1 += generator.injectId(generator.STATEMENT_SUFFIX, block);\n  }\n  if (xfix1) {\n    xfix1 = generator.prefixLines(xfix1, generator.INDENT);\n  }\n  let loopTrap = '';\n  if (generator.INFINITE_LOOP_TRAP) {\n    loopTrap = generator.prefixLines(\n      generator.injectId(generator.INFINITE_LOOP_TRAP, block),\n      generator.INDENT,\n    );\n  }\n  let branch = '';\n  if (block.getInput('STACK')) {\n    // The 'procedures_defreturn' block might not have a STACK input.\n    branch = generator.statementToCode(block, 'STACK');\n  }\n  let returnValue = '';\n  if (block.getInput('RETURN')) {\n    // The 'procedures_defnoreturn' block (which shares this code)\n    // does not have a RETURN input.\n    returnValue = generator.valueToCode(block, 'RETURN', Order.NONE) || '';\n  }\n  let xfix2 = '';\n  if (branch && returnValue) {\n    // After executing the function body, revisit this block for the return.\n    xfix2 = xfix1;\n  }\n  if (returnValue) {\n    returnValue = generator.INDENT + 'return ' + returnValue + ';\\n';\n  }\n  const returnType = returnValue ? 'dynamic' : 'void';\n  const args = [];\n  const variables = block.getVars();\n  for (let i = 0; i < variables.length; i++) {\n    args[i] = generator.getVariableName(variables[i]);\n  }\n  let code =\n    returnType +\n    ' ' +\n    funcName +\n    '(' +\n    args.join(', ') +\n    ') {\\n' +\n    xfix1 +\n    loopTrap +\n    branch +\n    xfix2 +\n    returnValue +\n    '}';\n  code = generator.scrub_(block, code);\n  // Add % so as not to collide with helper functions in definitions list.\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected.\n  (generator as AnyDuringMigration).definitions_['%' + funcName] = code;\n  return null;\n}\n\n// Defining a procedure without a return value uses the same generator as\n// a procedure with a return value.\nexport const procedures_defnoreturn = procedures_defreturn;\n\nexport function procedures_callreturn(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Call a procedure with a return value.\n  const funcName = generator.getProcedureName(block.getFieldValue('NAME'));\n  const args = [];\n  const variables = block.getVars();\n  for (let i = 0; i < variables.length; i++) {\n    args[i] = generator.valueToCode(block, 'ARG' + i, Order.NONE) || 'null';\n  }\n  let code = funcName + '(' + args.join(', ') + ')';\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport function procedures_callnoreturn(\n  block: Block,\n  generator: DartGenerator,\n) {\n  // Call a procedure with no return value.\n  // Generated code is for a function call as a statement is the same as a\n  // function call as a value, with the addition of line ending.\n  const tuple = generator.forBlock['procedures_callreturn'](\n    block,\n    generator,\n  ) as [string, Order];\n  return tuple[0] + ';\\n';\n}\n\nexport function procedures_ifreturn(block: Block, generator: DartGenerator) {\n  // Conditionally return value from a procedure.\n  const condition =\n    generator.valueToCode(block, 'CONDITION', Order.NONE) || 'false';\n  let code = 'if (' + condition + ') {\\n';\n  if (generator.STATEMENT_SUFFIX) {\n    // Inject any statement suffix here since the regular one at the end\n    // will not get executed if the return is triggered.\n    code += generator.prefixLines(\n      generator.injectId(generator.STATEMENT_SUFFIX, block),\n      generator.INDENT,\n    );\n  }\n  if ((block as IfReturnBlock).hasReturnValue_) {\n    const value = generator.valueToCode(block, 'VALUE', Order.NONE) || 'null';\n    code += generator.INDENT + 'return ' + value + ';\\n';\n  } else {\n    code += generator.INDENT + 'return;\\n';\n  }\n  code += '}\\n';\n  return code;\n}\n", "/**\n * @license\n * Copyright 2014 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Dart for text blocks.\n */\n\n// Former goog.module ID: Blockly.Dart.texts\n\nimport type {JoinMutatorBlock} from '../../blocks/text.js';\nimport type {Block} from '../../core/block.js';\nimport type {DartGenerator} from './dart_generator.js';\nimport {Order} from './dart_generator.js';\n\n// RESERVED WORDS: 'Html,Math'\n\nexport function text(block: Block, generator: DartGenerator): [string, Order] {\n  // Text value.\n  const code = generator.quote_(block.getFieldValue('TEXT'));\n  return [code, Order.ATOMIC];\n}\n\nexport function text_join(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Create a string made up of any number of elements of any type.\n  const joinBlock = block as JoinMutatorBlock;\n  switch (joinBlock.itemCount_) {\n    case 0:\n      return [\"''\", Order.ATOMIC];\n    case 1: {\n      const element =\n        generator.valueToCode(block, 'ADD0', Order.UNARY_POSTFIX) || \"''\";\n      const code = element + '.toString()';\n      return [code, Order.UNARY_POSTFIX];\n    }\n    default: {\n      const elements = new Array(joinBlock.itemCount_);\n      for (let i = 0; i < joinBlock.itemCount_; i++) {\n        elements[i] =\n          generator.valueToCode(block, 'ADD' + i, Order.NONE) || \"''\";\n      }\n      const code = '[' + elements.join(',') + '].join()';\n      return [code, Order.UNARY_POSTFIX];\n    }\n  }\n}\n\nexport function text_append(block: Block, generator: DartGenerator) {\n  // Append to a variable in place.\n  const varName = generator.getVariableName(block.getFieldValue('VAR'));\n  const value = generator.valueToCode(block, 'TEXT', Order.NONE) || \"''\";\n  return varName + ' = [' + varName + ', ' + value + '].join();\\n';\n}\n\nexport function text_length(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // String or array length.\n  const text =\n    generator.valueToCode(block, 'VALUE', Order.UNARY_POSTFIX) || \"''\";\n  return [text + '.length', Order.UNARY_POSTFIX];\n}\n\nexport function text_isEmpty(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Is the string null or array empty?\n  const text =\n    generator.valueToCode(block, 'VALUE', Order.UNARY_POSTFIX) || \"''\";\n  return [text + '.isEmpty', Order.UNARY_POSTFIX];\n}\n\nexport function text_indexOf(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Search the text for a substring.\n  const operator =\n    block.getFieldValue('END') === 'FIRST' ? 'indexOf' : 'lastIndexOf';\n  const substring = generator.valueToCode(block, 'FIND', Order.NONE) || \"''\";\n  const text =\n    generator.valueToCode(block, 'VALUE', Order.UNARY_POSTFIX) || \"''\";\n  const code = text + '.' + operator + '(' + substring + ')';\n  if (block.workspace.options.oneBasedIndex) {\n    return [code + ' + 1', Order.ADDITIVE];\n  }\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport function text_charAt(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Get letter at index.\n  // Note: Until January 2013 this block did not have the WHERE input.\n  const where = block.getFieldValue('WHERE') || 'FROM_START';\n  const textOrder =\n    where === 'FIRST' || where === 'FROM_START'\n      ? Order.UNARY_POSTFIX\n      : Order.NONE;\n  const text = generator.valueToCode(block, 'VALUE', textOrder) || \"''\";\n  let at;\n  switch (where) {\n    case 'FIRST': {\n      const code = text + '[0]';\n      return [code, Order.UNARY_POSTFIX];\n    }\n    case 'FROM_START': {\n      at = generator.getAdjusted(block, 'AT');\n      const code = text + '[' + at + ']';\n      return [code, Order.UNARY_POSTFIX];\n    }\n    case 'LAST':\n    case 'FROM_END': {\n      if (where === 'LAST') {\n        at = 1;\n      } else {\n        at = generator.getAdjusted(block, 'AT', 1);\n      }\n      const functionName = generator.provideFunction_(\n        'text_get_from_end',\n        `\nString ${generator.FUNCTION_NAME_PLACEHOLDER_}(String text, num x) {\n  return text[text.length - x];\n}\n`,\n      );\n      const code = `${functionName}(${text}, ${at})`;\n      return [code, Order.UNARY_POSTFIX];\n    }\n    case 'RANDOM': {\n      // TODO(#7600): find better approach than casting to any to override\n      // CodeGenerator declaring .definitions protected.\n      (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n        \"import 'dart:math' as Math;\";\n      const functionName = generator.provideFunction_(\n        'text_random_letter',\n        `\nString ${generator.FUNCTION_NAME_PLACEHOLDER_}(String text) {\n  int x = new Math.Random().nextInt(text.length);\n  return text[x];\n}\n`,\n      );\n      const code = functionName + '(' + text + ')';\n      return [code, Order.UNARY_POSTFIX];\n    }\n  }\n  throw Error('Unhandled option (text_charAt).');\n}\n\nexport function text_getSubstring(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Get substring.\n  const where1 = block.getFieldValue('WHERE1');\n  const where2 = block.getFieldValue('WHERE2');\n  const requiresLengthCall = where1 !== 'FROM_END' && where2 === 'FROM_START';\n  const textOrder = requiresLengthCall ? Order.UNARY_POSTFIX : Order.NONE;\n  const text = generator.valueToCode(block, 'STRING', textOrder) || \"''\";\n  let code;\n  if (where1 === 'FIRST' && where2 === 'LAST') {\n    code = text;\n    return [code, Order.NONE];\n  } else if (text.match(/^'?\\w+'?$/) || requiresLengthCall) {\n    // If the text is a variable or literal or doesn't require a call for\n    // length, don't generate a helper function.\n    let at1;\n    switch (where1) {\n      case 'FROM_START':\n        at1 = generator.getAdjusted(block, 'AT1');\n        break;\n      case 'FROM_END':\n        at1 = generator.getAdjusted(block, 'AT1', 1, false, Order.ADDITIVE);\n        at1 = text + '.length - ' + at1;\n        break;\n      case 'FIRST':\n        at1 = '0';\n        break;\n      default:\n        throw Error('Unhandled option (text_getSubstring).');\n    }\n    let at2;\n    switch (where2) {\n      case 'FROM_START':\n        at2 = generator.getAdjusted(block, 'AT2', 1);\n        break;\n      case 'FROM_END':\n        at2 = generator.getAdjusted(block, 'AT2', 0, false, Order.ADDITIVE);\n        at2 = text + '.length - ' + at2;\n        break;\n      case 'LAST':\n        break;\n      default:\n        throw Error('Unhandled option (text_getSubstring).');\n    }\n\n    if (where2 === 'LAST') {\n      code = text + '.substring(' + at1 + ')';\n    } else {\n      code = text + '.substring(' + at1 + ', ' + at2 + ')';\n    }\n  } else {\n    const at1 = generator.getAdjusted(block, 'AT1');\n    const at2 = generator.getAdjusted(block, 'AT2');\n    const functionName = generator.provideFunction_(\n      'text_get_substring',\n      `\nString ${generator.FUNCTION_NAME_PLACEHOLDER_}(String text, String where1, num at1, String where2, num at2) {\n  int getAt(String where, num at) {\n    if (where == 'FROM_END') {\n      at = text.length - 1 - at;\n    } else if (where == 'FIRST') {\n      at = 0;\n    } else if (where == 'LAST') {\n      at = text.length - 1;\n    } else if (where != 'FROM_START') {\n      throw 'Unhandled option (text_getSubstring).';\n    }\n    return at;\n  }\n  at1 = getAt(where1, at1);\n  at2 = getAt(where2, at2) + 1;\n  return text.substring(at1, at2);\n}\n`,\n    );\n    code =\n      functionName +\n      '(' +\n      text +\n      \", '\" +\n      where1 +\n      \"', \" +\n      at1 +\n      \", '\" +\n      where2 +\n      \"', \" +\n      at2 +\n      ')';\n  }\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport function text_changeCase(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Change capitalization.\n  const OPERATORS = {\n    'UPPERCASE': '.toUpperCase()',\n    'LOWERCASE': '.toLowerCase()',\n    'TITLECASE': null,\n  };\n  type OperatorOption = keyof typeof OPERATORS;\n  const operator = OPERATORS[block.getFieldValue('CASE') as OperatorOption];\n  const textOrder = operator ? Order.UNARY_POSTFIX : Order.NONE;\n  const text = generator.valueToCode(block, 'TEXT', textOrder) || \"''\";\n  let code;\n  if (operator) {\n    // Upper and lower case are functions built into generator.\n    code = text + operator;\n  } else {\n    // Title case is not a native generator function.  Define one.\n    const functionName = generator.provideFunction_(\n      'text_toTitleCase',\n      `\nString ${generator.FUNCTION_NAME_PLACEHOLDER_}(String str) {\n  RegExp exp = new RegExp(r'\\\\b');\n  List<String> list = str.split(exp);\n  final title = new StringBuffer();\n  for (String part in list) {\n    if (part.length > 0) {\n      title.write(part[0].toUpperCase());\n      if (part.length > 0) {\n        title.write(part.substring(1).toLowerCase());\n      }\n    }\n  }\n  return title.toString();\n}\n`,\n    );\n    code = functionName + '(' + text + ')';\n  }\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport function text_trim(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Trim spaces.\n  const OPERATORS = {\n    'LEFT': \".replaceFirst(new RegExp(r'^\\\\s+'), '')\",\n    'RIGHT': \".replaceFirst(new RegExp(r'\\\\s+$'), '')\",\n    'BOTH': '.trim()',\n  };\n  type OperatorOption = keyof typeof OPERATORS;\n  const operator = OPERATORS[block.getFieldValue('MODE') as OperatorOption];\n  const text =\n    generator.valueToCode(block, 'TEXT', Order.UNARY_POSTFIX) || \"''\";\n  return [text + operator, Order.UNARY_POSTFIX];\n}\n\nexport function text_print(block: Block, generator: DartGenerator) {\n  // Print statement.\n  const msg = generator.valueToCode(block, 'TEXT', Order.NONE) || \"''\";\n  return 'print(' + msg + ');\\n';\n}\n\nexport function text_prompt_ext(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Prompt function.\n  // TODO(#7600): find better approach than casting to any to override\n  // CodeGenerator declaring .definitions protected.\n  (generator as AnyDuringMigration).definitions_['import_dart_html'] =\n    \"import 'dart:html' as Html;\";\n  let msg;\n  if (block.getField('TEXT')) {\n    // Internal message.\n    msg = generator.quote_(block.getFieldValue('TEXT'));\n  } else {\n    // External message.\n    msg = generator.valueToCode(block, 'TEXT', Order.NONE) || \"''\";\n  }\n  let code = 'Html.window.prompt(' + msg + \", '')\";\n  const toNumber = block.getFieldValue('TYPE') === 'NUMBER';\n  if (toNumber) {\n    // TODO(#7600): find better approach than casting to any to override\n    // CodeGenerator declaring .definitions protected.\n    (generator as AnyDuringMigration).definitions_['import_dart_math'] =\n      \"import 'dart:math' as Math;\";\n    code = 'Math.parseDouble(' + code + ')';\n  }\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport const text_prompt = text_prompt_ext;\n\nexport function text_count(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  const text = generator.valueToCode(block, 'TEXT', Order.NONE) || \"''\";\n  const sub = generator.valueToCode(block, 'SUB', Order.NONE) || \"''\";\n  // Substring count is not a native generator function.  Define one.\n  const functionName = generator.provideFunction_(\n    'text_count',\n    `\nint ${generator.FUNCTION_NAME_PLACEHOLDER_}(String haystack, String needle) {\n  if (needle.length == 0) {\n    return haystack.length + 1;\n  }\n  int index = 0;\n  int count = 0;\n  while (index != -1) {\n    index = haystack.indexOf(needle, index);\n    if (index != -1) {\n      count++;\n     index += needle.length;\n    }\n  }\n  return count;\n}\n`,\n  );\n  const code = functionName + '(' + text + ', ' + sub + ')';\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport function text_replace(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  const text =\n    generator.valueToCode(block, 'TEXT', Order.UNARY_POSTFIX) || \"''\";\n  const from = generator.valueToCode(block, 'FROM', Order.NONE) || \"''\";\n  const to = generator.valueToCode(block, 'TO', Order.NONE) || \"''\";\n  const code = text + '.replaceAll(' + from + ', ' + to + ')';\n  return [code, Order.UNARY_POSTFIX];\n}\n\nexport function text_reverse(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // There isn't a sensible way to do this in generator. See:\n  // http://stackoverflow.com/a/21613700/3529104\n  // Implementing something is possibly better than not implementing anything?\n  const text =\n    generator.valueToCode(block, 'TEXT', Order.UNARY_POSTFIX) || \"''\";\n  const code = 'new String.fromCharCodes(' + text + '.runes.toList().reversed)';\n  return [code, Order.UNARY_PREFIX];\n}\n", "/**\n * @license\n * Copyright 2014 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Dart for variable blocks.\n */\n\n// Former goog.module ID: Blockly.Dart.variables\n\nimport type {Block} from '../../core/block.js';\nimport type {DartGenerator} from './dart_generator.js';\nimport {Order} from './dart_generator.js';\n\nexport function variables_get(\n  block: Block,\n  generator: DartGenerator,\n): [string, Order] {\n  // Variable getter.\n  const code = generator.getVariableName(block.getFieldValue('VAR'));\n  return [code, Order.ATOMIC];\n}\n\nexport function variables_set(block: Block, generator: DartGenerator) {\n  // Variable setter.\n  const argument0 =\n    generator.valueToCode(block, 'VALUE', Order.ASSIGNMENT) || '0';\n  const varName = generator.getVariableName(block.getFieldValue('VAR'));\n  return varName + ' = ' + argument0 + ';\\n';\n}\n", "/**\n * @license\n * Copyright 2014 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Dart code generator class, including helper methods for\n * generating Dart for blocks.\n */\n\n// Former goog.module ID: Blockly.Dart\n\nimport type {Block} from '../../core/block.js';\nimport {CodeGenerator} from '../../core/generator.js';\nimport {inputTypes} from '../../core/inputs/input_types.js';\nimport {Names, NameType} from '../../core/names.js';\nimport * as stringUtils from '../../core/utils/string.js';\nimport * as Variables from '../../core/variables.js';\nimport type {Workspace} from '../../core/workspace.js';\n\n/**\n * Order of operation ENUMs.\n * https://dart.dev/guides/language/language-tour#operators\n */\n// prettier-ignore\nexport enum Order {\n  ATOMIC = 0,         // 0 \"\" ...\n  UNARY_POSTFIX = 1,  // expr++ expr-- () [] . ?.\n  UNARY_PREFIX = 2,   // -expr !expr ~expr ++expr --expr\n  MULTIPLICATIVE = 3, // * / % ~/\n  ADDITIVE = 4,       // + -\n  SHIFT = 5,          // << >>\n  BITWISE_AND = 6,    // &\n  BITWISE_XOR = 7,    // ^\n  BITWISE_OR = 8,     // |\n  RELATIONAL = 9,     // >= > <= < as is is!\n  EQUALITY = 10,      // == !=\n  LOGICAL_AND = 11,   // &&\n  LOGICAL_OR = 12,    // ||\n  IF_NULL = 13,       // ??\n  CONDITIONAL = 14,   // expr ? expr: expr\n  CASCADE = 15,       // ..\n  ASSIGNMENT = 16,    // = *= /= ~/= %= += -= <<= >>= &= ^= |=\n  NONE = 99,          // (...)\n}\n\n/**\n * Dart code generator class.\n */\nexport class DartGenerator extends CodeGenerator {\n  /** @param name Name of the language the generator is for. */\n  constructor(name = 'Dart') {\n    super(name);\n    this.isInitialized = false;\n\n    // Copy Order values onto instance for backwards compatibility\n    // while ensuring they are not part of the publically-advertised\n    // API.\n    //\n    // TODO(#7085): deprecate these in due course.  (Could initially\n    // replace data properties with get accessors that call\n    // deprecate.warn().)\n    for (const key in Order) {\n      // Must assign Order[key] to a temporary to get the type guard to work;\n      // see https://github.com/microsoft/TypeScript/issues/10530.\n      const value = Order[key];\n      // Skip reverse-lookup entries in the enum.  Due to\n      // https://github.com/microsoft/TypeScript/issues/55713 this (as\n      // of TypeScript 5.5.2) actually narrows the type of value to\n      // never - but that still allows the following assignment to\n      // succeed.\n      if (typeof value === 'string') continue;\n      (this as unknown as Record<string, Order>)['ORDER_' + key] = value;\n    }\n\n    // List of illegal variable names.  This is not intended to be a\n    // security feature.  Blockly is 100% client-side, so bypassing\n    // this list is trivial.  This is intended to prevent users from\n    // accidentally clobbering a built-in object or function.\n    this.addReservedWords(\n      // https://www.dartlang.org/docs/spec/latest/dart-language-specification.pdf\n      // Section 16.1.1\n      'assert,break,case,catch,class,const,continue,default,do,else,enum,' +\n        'extends,false,final,finally,for,if,in,is,new,null,rethrow,return,' +\n        'super,switch,this,throw,true,try,var,void,while,with,' +\n        // https://api.dartlang.org/dart_core.html\n        'print,identityHashCode,identical,BidirectionalIterator,Comparable,' +\n        'double,Function,int,Invocation,Iterable,Iterator,List,Map,Match,num,' +\n        'Pattern,RegExp,Set,StackTrace,String,StringSink,Type,bool,DateTime,' +\n        'Deprecated,Duration,Expando,Null,Object,RuneIterator,Runes,Stopwatch,' +\n        'StringBuffer,Symbol,Uri,Comparator,AbstractClassInstantiationError,' +\n        'ArgumentError,AssertionError,CastError,ConcurrentModificationError,' +\n        'CyclicInitializationError,Error,Exception,FallThroughError,' +\n        'FormatException,IntegerDivisionByZeroException,NoSuchMethodError,' +\n        'NullThrownError,OutOfMemoryError,RangeError,StackOverflowError,' +\n        'StateError,TypeError,UnimplementedError,UnsupportedError',\n    );\n  }\n\n  /**\n   * Initialise the database of variable names.\n   *\n   * @param workspace Workspace to generate code from.\n   */\n  init(workspace: Workspace) {\n    super.init(workspace);\n\n    if (!this.nameDB_) {\n      this.nameDB_ = new Names(this.RESERVED_WORDS_);\n    } else {\n      this.nameDB_.reset();\n    }\n\n    this.nameDB_.setVariableMap(workspace.getVariableMap());\n    this.nameDB_.populateVariables(workspace);\n    this.nameDB_.populateProcedures(workspace);\n\n    const defvars = [];\n    // Add developer variables (not created or named by the user).\n    const devVarList = Variables.allDeveloperVariables(workspace);\n    for (let i = 0; i < devVarList.length; i++) {\n      defvars.push(\n        this.nameDB_.getName(devVarList[i], NameType.DEVELOPER_VARIABLE),\n      );\n    }\n\n    // Add user variables, but only ones that are being used.\n    const variables = Variables.allUsedVarModels(workspace);\n    for (let i = 0; i < variables.length; i++) {\n      defvars.push(\n        this.nameDB_.getName(variables[i].getId(), NameType.VARIABLE),\n      );\n    }\n\n    // Declare all of the variables.\n    if (defvars.length) {\n      this.definitions_['variables'] = 'var ' + defvars.join(', ') + ';';\n    }\n    this.isInitialized = true;\n  }\n\n  /**\n   * Prepend the generated code with import statements and variable definitions.\n   *\n   * @param code Generated code.\n   * @returns Completed code.\n   */\n  finish(code: string): string {\n    // Indent every line.\n    if (code) {\n      code = this.prefixLines(code, this.INDENT);\n    }\n    code = 'main() {\\n' + code + '}';\n\n    // Convert the definitions dictionary into a list.\n    const imports = [];\n    const definitions = [];\n    for (let name in this.definitions_) {\n      const def = this.definitions_[name];\n      if (def.match(/^import\\s/)) {\n        imports.push(def);\n      } else {\n        definitions.push(def);\n      }\n    }\n    // Call Blockly.CodeGenerator's finish.\n    code = super.finish(code);\n    this.isInitialized = false;\n\n    this.nameDB_!.reset();\n    const allDefs = imports.join('\\n') + '\\n\\n' + definitions.join('\\n\\n');\n    return allDefs.replace(/\\n\\n+/g, '\\n\\n').replace(/\\n*$/, '\\n\\n\\n') + code;\n  }\n\n  /**\n   * Naked values are top-level blocks with outputs that aren't plugged into\n   * anything.\n   *\n   * @param line Line of generated code.\n   * @returns Legal line of code.\n   */\n  scrubNakedValue(line: string): string {\n    return line + ';\\n';\n  }\n\n  /**\n   * Encode a string as a properly escaped Dart string, complete with quotes.\n   *\n   * @param string Text to encode.\n   * @returns Dart string.\n   */\n  quote_(string: string): string {\n    // Can't use goog.string.quote since $ must also be escaped.\n    string = string\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\\n/g, '\\\\\\n')\n      .replace(/\\$/g, '\\\\$')\n      .replace(/'/g, \"\\\\'\");\n    return \"'\" + string + \"'\";\n  }\n\n  /**\n   * Encode a string as a properly escaped multiline Dart string, complete\n   * with quotes.\n   *\n   * @param string Text to encode.\n   * @returns Dart string.\n   */\n  multiline_quote_(string: string): string {\n    const lines = string.split(/\\n/g).map(this.quote_);\n    // Join with the following, plus a newline:\n    // + '\\n' +\n    return lines.join(\" + '\\\\n' + \\n\");\n  }\n\n  /**\n   * Common tasks for generating Dart from blocks.\n   * Handles comments for the specified block and any connected value blocks.\n   * Calls any statements following this block.\n   *\n   * @param block The current block.\n   * @param code The Dart code created for this block.\n   * @param thisOnly True to generate code for only this statement.\n   * @returns Dart code with comments and subsequent blocks added.\n   */\n  scrub_(block: Block, code: string, thisOnly = false): string {\n    let commentCode = '';\n    // Only collect comments for blocks that aren't inline.\n    if (!block.outputConnection || !block.outputConnection.targetConnection) {\n      // Collect comment for this block.\n      let comment = block.getCommentText();\n      if (comment) {\n        comment = stringUtils.wrap(comment, this.COMMENT_WRAP - 3);\n        if ((block as AnyDuringMigration).getProcedureDef) {\n          // Use documentation comment for function comments.\n          commentCode += this.prefixLines(comment + '\\n', '/// ');\n        } else {\n          commentCode += this.prefixLines(comment + '\\n', '// ');\n        }\n      }\n      // Collect comments for all value arguments.\n      // Don't collect comments for nested statements.\n      for (let i = 0; i < block.inputList.length; i++) {\n        if (block.inputList[i].type === inputTypes.VALUE) {\n          const childBlock = block.inputList[i].connection!.targetBlock();\n          if (childBlock) {\n            comment = this.allNestedComments(childBlock);\n            if (comment) {\n              commentCode += this.prefixLines(comment, '// ');\n            }\n          }\n        }\n      }\n    }\n    const nextBlock =\n      block.nextConnection && block.nextConnection.targetBlock();\n    const nextCode = thisOnly ? '' : this.blockToCode(nextBlock);\n    return commentCode + code + nextCode;\n  }\n\n  /**\n   * Generate code representing the specified value input, adjusted to take into\n   * account indexing (zero- or one-based) and optionally by a specified delta\n   * and/or by negation.\n   *\n   * @param block The block.\n   * @param atId The ID of the input block to get (and adjust) the value of.\n   * @param delta Value to add.\n   * @param negate Whether to negate the value.\n   * @param order The highest order acting on this value.\n   * @returns The adjusted value or code that evaluates to it.\n   */\n  getAdjusted(\n    block: Block,\n    atId: string,\n    delta = 0,\n    negate = false,\n    order = Order.NONE,\n  ): string {\n    if (block.workspace.options.oneBasedIndex) {\n      delta--;\n    }\n    const defaultAtIndex = block.workspace.options.oneBasedIndex ? '1' : '0';\n\n    let orderForInput = order;\n    if (delta) {\n      orderForInput = Order.ADDITIVE;\n    } else if (negate) {\n      orderForInput = Order.UNARY_PREFIX;\n    }\n\n    let at = this.valueToCode(block, atId, orderForInput) || defaultAtIndex;\n\n    // Easy case: no adjustments.\n    if (delta === 0 && !negate) {\n      return at;\n    }\n    // If the index is a naked number, adjust it right now.\n    if (stringUtils.isNumber(at)) {\n      at = String(Number(at) + delta);\n      if (negate) {\n        at = String(-Number(at));\n      }\n      return at;\n    }\n    // If the index is dynamic, adjust it in code.\n    if (delta > 0) {\n      at = `${at} + ${delta}`;\n    } else if (delta < 0) {\n      at = `${at} - ${-delta}`;\n    }\n    if (negate) {\n      at = delta ? `-(${at})` : `-${at}`;\n    }\n    if (Math.floor(order) >= Math.floor(orderForInput)) {\n      at = `(${at})`;\n    }\n    return at;\n  }\n}\n", "/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Generating Dart for dynamic variable blocks.\n */\n\n// Former goog.module ID: Blockly.Dart.variablesDynamic\n\n// generator is dynamically typed.\nexport {\n  variables_get as variables_get_dynamic,\n  variables_set as variables_set_dynamic,\n} from './variables.js';\n", "/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Instantiate a DartGenerator and populate it with the complete\n * set of block generator functions for Dart.  This is the entrypoint\n * for dart_compressed.js.\n */\n\n// Former goog.module ID: Blockly.Dart.all\n\nimport {DartGenerator} from './dart/dart_generator.js';\nimport * as lists from './dart/lists.js';\nimport * as logic from './dart/logic.js';\nimport * as loops from './dart/loops.js';\nimport * as math from './dart/math.js';\nimport * as procedures from './dart/procedures.js';\nimport * as text from './dart/text.js';\nimport * as variables from './dart/variables.js';\nimport * as variablesDynamic from './dart/variables_dynamic.js';\n\nexport * from './dart/dart_generator.js';\n\n/**\n * Dart code generator instance.\n * @type {!DartGenerator}\n */\nexport const dartGenerator = new DartGenerator();\n\n// Add reserved words.  This list should include all words mentioned\n// in RESERVED WORDS: comments in the imports above.\ndartGenerator.addReservedWords('Html,Math');\n\n// Install per-block-type generator functions:\nconst generators: typeof dartGenerator.forBlock = {\n  ...lists,\n  ...logic,\n  ...loops,\n  ...math,\n  ...procedures,\n  ...text,\n  ...variables,\n  ...variablesDynamic,\n};\nfor (const name in generators) {\n  dartGenerator.forBlock[name] = generators[name];\n}\n", "import dart from './dart_compressed.js';\nexport const {\n  DartGenerator,\n  Order,\n  dartGenerator,\n} = dart;\n"],
  "mappings": "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",
  "names": ["lists_create_empty", "block", "generator", "Order", "ATOMIC", "lists_create_with", "elements", "Array", "itemCount_", "i", "valueToCode", "NONE", "join", "lists_repeat", "element", "UNARY_POSTFIX", "lists_length", "lists_isEmpty", "lists_indexOf", "operator", "getFieldValue", "item", "code", "workspace", "options", "oneBasedIndex", "ADDITIVE", "lists_getIndex", "cacheList", "listVar", "nameDB_", "getDistinctName", "NameType", "VARIABLE", "list", "mode", "where", "match", "at", "getAdjusted", "definitions_", "xVar", "provideFunction_", "FUNCTION_NAME_PLACEHOLDER_", "functionName", "Error", "lists_setIndex", "value", "ASSIGNMENT", "lists_getSublist", "where1", "where2", "at1", "at2", "lists_sort", "direction", "type", "sortFunctionName", "lists_split", "input", "delimiter", "lists_reverse", "controls_if", "n", "branchCode", "conditionCode", "STATEMENT_PREFIX", "injectId", "statementToCode", "STATEMENT_SUFFIX", "prefixLines", "INDENT", "getInput", "logic_compare", "OPERATORS", "order", "EQUALITY", "RELATIONAL", "argument0", "argument1", "logic_operation", "LOGICAL_AND", "LOGICAL_OR", "defaultArgument", "logic_negate", "UNARY_PREFIX", "logic_boolean", "logic_null", "logic_ternary", "value_if", "CONDITIONAL", "value_then", "value_else", "controls_repeat_ext", "repeats", "getField", "String", "Number", "branch", "addLoopTrap", "loopVar", "endVar", "isNumber", "controls_whileUntil", "until", "controls_for", "variable0", "getVariableName", "increment", "up", "step", "Math", "abs", "startVar", "incVar", "controls_forEach", "controls_flow_statements", "xfix", "loop", "getSurroundLoop", "suppressPrefixSuffix", "math_number", "number", "Infinity", "math_arithmetic", "tuple", "MULTIPLICATIVE", "math_single", "arg", "substring", "math_constant", "CONSTANTS", "constant", "math_number_property", "PROPERTIES", "dropdownProperty", "suffix", "inputOrder", "outputOrder", "numberToCheck", "divisor", "math_change", "varName", "math_on_list", "func", "math_modulo", "math_constrain", "argument2", "math_random_int", "math_random_float", "math_atan2", "procedures_defreturn", "funcName", "getProcedureName", "xfix1", "loopTrap", "INFINITE_LOOP_TRAP", "returnValue", "xfix2", "returnType", "args", "variables", "getVars", "length", "scrub_", "procedures_callreturn", "procedures_callnoreturn", "forBlock", "procedures_ifreturn", "hasReturnValue_", "text", "quote_", "text_join", "text_append", "text_length", "text_isEmpty", "text_indexOf", "text_charAt", "text_getSubstring", "requiresLengthCall", "text_changeCase", "text_trim", "text_print", "text_prompt_ext", "text_count", "sub", "text_replace", "from", "to", "text_reverse", "variables_get", "variables_set", "SHIFT", "BITWISE_AND", "BITWISE_XOR", "BITWISE_OR", "IF_NULL", "CASCADE", "DartGenerator", "CodeGenerator", "constructor", "name", "isInitialized", "key", "addReservedWords", "init", "reset", "Names", "RESERVED_WORDS_", "setVariableMap", "getVariableMap", "populateVariables", "populateProcedures", "defvars", "devVarList", "allDeveloperVariables", "push", "getName", "DEVELOPER_VARIABLE", "allUsedVarModels", "getId", "finish", "imports", "definitions", "def", "replace", "scrubNakedValue", "line", "string", "multiline_quote_", "split", "map", "lines", "thisOnly", "commentCode", "outputConnection", "targetConnection", "comment", "getCommentText", "wrap", "COMMENT_WRAP", "getProcedureDef", "inputList", "inputTypes", "VALUE", "childBlock", "connection", "targetBlock", "allNestedComments", "nextBlock", "nextConnection", "nextCode", "blockToCode", "atId", "delta", "negate", "defaultAtIndex", "orderForInput", "floor", "$jscomp$tmp$exports$module$name", "controls_ifelse", "controls_repeat", "math_round", "math_trig", "procedures_defnoreturn", "text_prompt", "dartGenerator", "generators", "lists", "logic", "loops", "math", "procedures", "variablesDynamic", "dart"]
}
